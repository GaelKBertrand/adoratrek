<!-- Slot Filter Buttons -->
<div class="row mb-3">
  <div class="col text-center">
    <button type="button" class="btn btn-outline-primary slot-btn active" data-slot="1">Jan 1 – Mar 15</button>
    <button type="button" class="btn btn-outline-primary slot-btn" data-slot="2">Mar 16 – May 31</button>
    <button type="button" class="btn btn-outline-primary slot-btn" data-slot="3">Jun 1 – Aug 15</button>
    <button type="button" class="btn btn-outline-primary slot-btn" data-slot="4">Aug 16 – Oct 31</button>
    <button type="button" class="btn btn-outline-primary slot-btn" data-slot="5">Nov 1 – Dec 31</button>
  </div>
</div>

<!-- Batch dates info line -->
<div id="batch-info" class="text-center mb-3 fw-bold"></div>

<!-- Existing carousel structure (do not alter inner items beyond adding slot info) -->
<div class="packages-carousel owl-carousel">
  <!-- Slot 1 items -->
  <div class="packages-item" data-slot="1">
    <img src="images/kilimanjaro.jpg" alt="Mount Kilimanjaro" class="img-fluid">
    <div class="p-3">
      <h5>Mount Kilimanjaro – Lemosho Route (Tanzania)</h5>
      <p class="mb-1">7 days / 6 nights</p>
      <p>Price: $2,200</p>
      <div class="batch-dates" style="display:none;">Jan 10–17</div>
    </div>
  </div>
  <div class="packages-item" data-slot="1">
    <img src="images/everest_view.jpg" alt="Everest View Trek" class="img-fluid">
    <div class="p-3">
      <h5>Everest View Trek (Nepal)</h5>
      <p class="mb-1">5 days / 4 nights</p>
      <p>Price: $800</p>
      <div class="batch-dates" style="display:none;">Mar 1–5</div>
    </div>
  </div>

  <!-- Slot 2 items -->
  <div class="packages-item" data-slot="2">
    <img src="images/everest_base_camp.jpg" alt="Everest Base Camp" class="img-fluid">
    <div class="p-3">
      <h5>Everest Base Camp Trek (Nepal)</h5>
      <p class="mb-1">16 days / 15 nights</p>
      <p>Price: $3,000</p>
      <div class="batch-dates" style="display:none;">Apr 10–25</div>
    </div>
  </div>
  <div class="packages-item" data-slot="2">
    <img src="images/mont_blanc.jpg" alt="Tour du Mont Blanc" class="img-fluid">
    <div class="p-3">
      <h5>Tour du Mont Blanc (Europe)</h5>
      <p class="mb-1">8 days / 7 nights</p>
      <p>Price: $1,900</p>
      <div class="batch-dates" style="display:none;">May 10–20</div>
    </div>
  </div>

  <!-- Slot 3 items -->
  <div class="packages-item" data-slot="3">
    <img src="images/annapurna_circuit.jpg" alt="Annapurna Circuit Trek" class="img-fluid">
    <div class="p-3">
      <h5>Annapurna Circuit Trek (Nepal)</h5>
      <p class="mb-1">14 days / 13 nights</p>
      <p>Price: $1,500</p>
      <div class="batch-dates" style="display:none;">Jun 5–20</div>
    </div>
  </div>
  <div class="packages-item" data-slot="3">
    <img src="images/dolomites.jpg" alt="Dolomites Alta Via 1" class="img-fluid">
    <div class="p-3">
      <h5>Dolomites Alta Via 1 (Italy)</h5>
      <p class="mb-1">13 days / 12 nights</p>
      <p>Price: $1,600</p>
      <div class="batch-dates" style="display:none;">Jul 1–15</div>
    </div>
  </div>

  <!-- Slot 4 items -->
  <div class="packages-item" data-slot="4">
    <img src="images/langtang_valley.jpg" alt="Langtang Valley Trek" class="img-fluid">
    <div class="p-3">
      <h5>Langtang Valley Trek (Nepal)</h5>
      <p class="mb-1">7 days / 6 nights</p>
      <p>Price: $700</p>
      <div class="batch-dates" style="display:none;">Sep 10–25</div>
    </div>
  </div>
  <div class="packages-item" data-slot="4">
    <img src="images/inca_trail.jpg" alt="Inca Trail" class="img-fluid">
    <div class="p-3">
      <h5>Inca Trail to Machu Picchu (Peru)</h5>
      <p class="mb-1">12 days / 11 nights</p>
      <p>Price: $2,500</p>
      <div class="batch-dates" style="display:none;">Aug 20–Sep 4</div>
    </div>
  </div>

  <!-- Slot 5 items -->
  <div class="packages-item" data-slot="5">
    <img src="images/poon_hill.jpg" alt="Poon Hill Trek" class="img-fluid">
    <div class="p-3">
      <h5>Poon Hill Trek (Nepal)</h5>
      <p class="mb-1">5 days / 4 nights</p>
      <p>Price: $400</p>
      <div class="batch-dates" style="display:none;">Nov 15–20</div>
    </div>
  </div>
  <div class="packages-item" data-slot="5">
    <img src="images/machu_picchu.jpg" alt="Machu Picchu Trek" class="img-fluid">
    <div class="p-3">
      <h5>Machu Picchu Luxury Trek (Peru)</h5>
      <p class="mb-1">8 days / 7 nights</p>
      <p>Price: $2,200</p>
      <div class="batch-dates" style="display:none;">Dec 5–15</div>
    </div>
  </div>
</div>

<!-- JavaScript (jQuery) -->
<script>
$(document).ready(function(){
  // Initialize Owl Carousel
  var owl = $('.packages-carousel').owlCarousel({
    loop: true,
    margin: 10,
    nav: true,
    responsive: { 0:{items:1}, 600:{items:2}, 1000:{items:3} }
  });

  // Function to filter items by slot
  function filterSlot(slot) {
    // Show/Hide carousel items
    owl.find('.owl-item').each(function(){
      var $slide = $(this);
      var $item = $slide.find('.packages-item');
      if ($item.data('slot') == slot) {
        $slide.show();
      } else {
        $slide.hide();
      }
    });
    // Refresh carousel layout (important):contentReference[oaicite:3]{index=3}
    owl.trigger('refresh.owl.carousel');

    // Update batch dates line
    var batchTexts = [];
    $('.packages-item[data-slot="' + slot + '"] .batch-dates').each(function(){
      batchTexts.push($(this).text());
    });
    if(batchTexts.length) {
      $('#batch-info').text('Batches: ' + batchTexts.join(', '));
    } else {
      $('#batch-info').empty();
    }
  }

  // Initial filter (slot 1) on page load
  filterSlot(1);

  // Click handler for filter buttons
  $('.slot-btn').on('click', function(){
    var slot = $(this).data('slot');
    $('.slot-btn').removeClass('active');
    $(this).addClass('active');
    filterSlot(slot);
  });
});
</script>
